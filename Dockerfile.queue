FROM node:22-slim

# Install curl for healthcheck
RUN apt-get update && apt-get install -y curl --no-install-recommends \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /app

# Copy package files
COPY queue-manager/package*.json ./

# Install dependencies
RUN npm install --production

# Copy queue manager code
COPY queue-manager/ ./

EXPOSE 8080

CMD ["npm", "start"]
